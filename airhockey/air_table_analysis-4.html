<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Air Table Disk — Quantitative Analysis</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0a0e17;
  --surface: #111827;
  --surface2: #1a2234;
  --border: #1e2d44;
  --text: #e2e8f0;
  --text-dim: #64748b;
  --accent: #38bdf8;
  --accent2: #f472b6;
  --accent3: #a78bfa;
  --accent4: #34d399;
  --warn: #fb923c;
  --red: #f87171;
}
* { margin:0; padding:0; box-sizing:border-box; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: 'DM Sans', sans-serif;
  line-height: 1.6;
  overflow-x: hidden;
}
.grain {
  position: fixed; inset: 0; z-index: 9999; pointer-events: none; opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}
.container { max-width: 1200px; margin: 0 auto; padding: 2rem 1.5rem; }

header {
  text-align: center;
  padding: 3rem 0 2rem;
  border-bottom: 1px solid var(--border);
  margin-bottom: 2.5rem;
}
header h1 {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.6rem;
  font-weight: 700;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, var(--accent), var(--accent3));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
header .sub {
  font-size: 0.85rem;
  color: var(--text-dim);
  margin-top: 0.5rem;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 300;
}

.metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-bottom: 2.5rem;
}
.metric-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 1.2rem;
  position: relative;
  overflow: hidden;
}
.metric-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
}
.metric-card:nth-child(1)::before { background: var(--accent); }
.metric-card:nth-child(2)::before { background: var(--accent2); }
.metric-card:nth-child(3)::before { background: var(--accent3); }
.metric-card:nth-child(4)::before { background: var(--accent4); }
.metric-card:nth-child(5)::before { background: var(--warn); }
.metric-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-dim);
  font-family: 'JetBrains Mono', monospace;
}
.metric-value {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.5rem;
  font-weight: 700;
  margin: 0.3rem 0 0.1rem;
}
.metric-unit {
  font-size: 0.75rem;
  color: var(--text-dim);
}

section {
  margin-bottom: 2.5rem;
}
section h2 {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
section h2 .num {
  background: var(--accent);
  color: var(--bg);
  width: 22px; height: 22px;
  border-radius: 5px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
  font-weight: 700;
}

.chart-container {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 1.2rem;
  margin-bottom: 1rem;
}
.chart-container canvas {
  width: 100% !important;
}

table {
  width: 100%;
  border-collapse: collapse;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.78rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
}
th {
  background: var(--surface2);
  padding: 0.7rem 0.8rem;
  text-align: right;
  font-weight: 500;
  color: var(--accent);
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
th:first-child { text-align: center; }
td {
  padding: 0.55rem 0.8rem;
  text-align: right;
  border-top: 1px solid var(--border);
}
td:first-child { text-align: center; color: var(--text-dim); }
tr:hover td { background: rgba(56,189,248,0.04); }
.sign-change { color: var(--accent2); font-weight: 600; }
.no-change { color: var(--text-dim); }

.insight {
  background: var(--surface);
  border: 1px solid var(--border);
  border-left: 3px solid var(--accent3);
  border-radius: 0 10px 10px 0;
  padding: 1rem 1.2rem;
  margin: 1rem 0;
  font-size: 0.88rem;
  line-height: 1.7;
}
.insight strong { color: var(--accent); }

.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}
@media (max-width: 768px) { .two-col { grid-template-columns: 1fr; } }

.formula {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 1rem 1.5rem;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.9rem;
  text-align: center;
  margin: 0.8rem 0;
  color: var(--accent);
}
</style>
</head>
<body>
<div class="grain"></div>
<div class="container">

<header>
  <h1>Air Table Disk · Quantitative Analysis</h1>
  <div class="sub">accelerometer + gyroscope · 50 Hz · 20 s recording · 7 collisions (запуск рукой исключён)</div>
</header>

<div class="metrics">
  <div class="metric-card">
    <div class="metric-label">Столкновений</div>
    <div class="metric-value" style="color:var(--accent)">7</div>
    <div class="metric-unit">за 20 секунд (запуск исключён)</div>
  </div>
  <div class="metric-card">
    <div class="metric-label">Макс. ускорение</div>
    <div class="metric-value" style="color:var(--accent2)">10.3 g</div>
    <div class="metric-unit">при столкновении #1</div>
  </div>
  <div class="metric-card">
    <div class="metric-label">Постоянная затухания</div>
    <div class="metric-value" style="color:var(--accent3)">17.1 с</div>
    <div class="metric-unit">вязкое трение</div>
  </div>
  <div class="metric-card">
    <div class="metric-label">Начальная |ω|</div>
    <div class="metric-value" style="color:var(--accent4)">302°/с</div>
    <div class="metric-unit">после запуска рукой</div>
  </div>
  <div class="metric-card">
    <div class="metric-label">Смена знака ω</div>
    <div class="metric-value" style="color:var(--warn)">5 / 7</div>
    <div class="metric-unit">столкновений</div>
  </div>
</div>

<!-- CHART 1: Full timeline -->
<section>
  <h2><span class="num">1</span> Полная временна́я развёртка</h2>
  <div class="chart-container" style="height:300px">
    <canvas id="chartTimeline"></canvas>
  </div>
  <div class="insight">
    Первый пик (t ≈ 0.48 с) — <strong>запуск рукой</strong>, придавший диску вращение ~302°/с. Далее угловая скорость <strong>gz</strong> демонстрирует экспоненциальное затухание между столкновениями, со скачками при каждом ударе о струну.
  </div>
</section>

<!-- SECTION 2: Friction model -->
<section>
  <h2><span class="num">2</span> Модель трения: вязкое затухание вращения</h2>
  <div class="two-col">
    <div class="chart-container" style="height:280px">
      <canvas id="chartFriction"></canvas>
    </div>
    <div>
      <div class="insight">
        Угловое замедление <strong>|α|</strong> линейно пропорционально <strong>|ω|</strong>, что указывает на <strong>вязкую модель трения</strong>:
      </div>
      <div class="formula">α = −0.058 · ω</div>
      <div class="insight">
        Решение: <strong>ω(t) = ω₀ · e<sup>−t/τ</sup></strong>, где <strong>τ ≈ 17 с</strong>.<br><br>
        Кулоновская компонента пренебрежимо мала (≈ 0 °/с²), что ожидаемо для диска на воздушной подушке.
      </div>
    </div>
  </div>
</section>

<!-- SECTION 3: Collision table -->
<section>
  <h2><span class="num">3</span> Параметры столкновений</h2>
  <table>
    <tr>
      <th>#</th>
      <th>t, с</th>
      <th>|a|<sub>peak</sub>, g</th>
      <th>θ<sub>удара</sub>, °</th>
      <th>ω<sub>до</sub>, °/с</th>
      <th>ω<sub>после</sub>, °/с</th>
      <th>Δω, °/с</th>
      <th>Знак ω</th>
      <th>Δt<sub>до след</sub>, с</th>
    </tr>
    <tr><td>1</td><td>1.42</td><td>10.27</td><td>163.0</td><td>−290</td><td>−108</td><td>+182</td><td class="no-change">−→−</td><td>1.22</td></tr>
    <tr><td>2</td><td>2.64</td><td>5.69</td><td>105.9</td><td>−102</td><td>+39</td><td>+141</td><td class="sign-change">−→+</td><td>1.46</td></tr>
    <tr><td>3</td><td>4.10</td><td>5.95</td><td>−124.7</td><td>+37</td><td>−25</td><td>−62</td><td class="sign-change">+→−</td><td>1.84</td></tr>
    <tr><td>4</td><td>5.94</td><td>2.73</td><td>84.3</td><td>−22</td><td>+20</td><td>+42</td><td class="sign-change">−→+</td><td>2.30</td></tr>
    <tr><td>5</td><td>8.24</td><td>3.17</td><td>−121.1</td><td>+19</td><td>−15</td><td>−34</td><td class="sign-change">+→−</td><td>3.08</td></tr>
    <tr><td>6</td><td>11.32</td><td>1.31</td><td>89.1</td><td>−14</td><td>+3</td><td>+17</td><td class="sign-change">−→+</td><td>4.48</td></tr>
    <tr><td>7</td><td>15.80</td><td>2.73</td><td>−97.6</td><td>+4</td><td>+0.6</td><td>−3</td><td class="no-change">+→+</td><td>—</td></tr>
  </table>
  <div class="insight">
    Направление удара (θ) <strong>чередуется</strong> между ~90° и ~−120° — диск отскакивает между двумя противоположными струнами. 
    В столкновениях 2–6 <strong>знак ω меняется</strong>: тангенциальная составляющая импульса при контакте со струной разворачивает вращение.
  </div>
</section>

<!-- SECTION 4: Energy -->
<section>
  <h2><span class="num">4</span> Баланс вращательной энергии при столкновениях</h2>
  <div class="two-col">
    <div class="chart-container" style="height:260px">
      <canvas id="chartEnergy"></canvas>
    </div>
    <div class="chart-container" style="height:260px">
      <canvas id="chartDeltaT"></canvas>
    </div>
  </div>
  <div class="insight">
    <strong>Слева:</strong> |ω| после каждого столкновения монотонно убывает — диск теряет вращение с каждым ударом.<br>
    <strong>Справа:</strong> интервал между столкновениями растёт — диск замедляется поступательно (вязкое трение воздушной подушки тормозит и линейное движение).
  </div>
</section>

<!-- SECTION 5: Rotational energy loss -->
<section>
  <h2><span class="num">5</span> Потери вращательной энергии при ударе</h2>
  <table>
    <tr>
      <th>#</th>
      <th>ω²<sub>после</sub> / ω²<sub>до</sub></th>
      <th>ΔKE<sub>rot</sub> / KE<sub>до</sub></th>
      <th>Интерпретация</th>
    </tr>
    <tr><td>1</td><td>0.14</td><td style="color:var(--red)">−86%</td><td style="text-align:left;color:var(--text-dim)">Сильная потеря вращения</td></tr>
    <tr><td>2</td><td>0.15</td><td style="color:var(--red)">−85%</td><td style="text-align:left;color:var(--text-dim)">Сильная потеря + смена знака</td></tr>
    <tr><td>3</td><td>0.46</td><td style="color:var(--warn)">−55%</td><td style="text-align:left;color:var(--text-dim)">Умеренная потеря</td></tr>
    <tr><td>4</td><td>0.84</td><td>−16%</td><td style="text-align:left;color:var(--text-dim)">Малая потеря</td></tr>
    <tr><td>5</td><td>0.60</td><td style="color:var(--warn)">−40%</td><td style="text-align:left;color:var(--text-dim)">Умеренная потеря</td></tr>
    <tr><td>6</td><td>0.04</td><td style="color:var(--red)">−97%</td><td style="text-align:left;color:var(--text-dim)">Почти полная остановка вращения</td></tr>
    <tr><td>7</td><td>0.02</td><td style="color:var(--red)">−98%</td><td style="text-align:left;color:var(--text-dim)">Полная остановка</td></tr>
  </table>
  <div class="insight">
    Нет единого «коэффициента восстановления» для вращения — потери сильно варьируются от 16% до 98%. Это означает, что <strong>связь поступательного и вращательного движений при ударе зависит от геометрии контакта</strong> (угла набегания, точки контакта на диске).
  </div>
</section>

<!-- SECTION 6: Summary -->
<section>
  <h2><span class="num">6</span> Итого: количественные результаты</h2>
  <div class="insight" style="border-left-color: var(--accent4)">
    <strong>1. Модель трения вращения:</strong> чисто вязкое, α = −0.058·ω, τ = 17.1 с. Кулоновская компонента ≈ 0.<br><br>
    <strong>2. Тангенциальный импульс при ударе:</strong> столкновение со струной в 5 из 7 случаев меняет знак вращения. Величина Δω при ударе — от 3 до 182°/с. Момент импульса не сохраняется (внешний момент от струны).<br><br>
    <strong>3. Потери вращательной КЭ при ударе:</strong> от 16% до 98%, сильно зависят от геометрии контакта.<br><br>
    <strong>4. Замедление поступательного движения:</strong> интервалы между ударами растут (1.22 → 4.48 с), что соответствует уменьшению линейной скорости — вязкое торможение и поступательного движения.<br><br>
    <strong>5. Направленность ударов:</strong> чередование ~90° и ~−120° — диск движется между двумя противоположными струнами.<br><br>
    <strong>6. Пиковые ускорения:</strong> 1.3–10.3 g, длительность контакта ≤ 1–2 отсчёта (≤ 40 мс при 50 Гц).<br><br>
    <strong>7. Запуск рукой</strong> (t ≈ 0.48 с) придал диску начальное вращение ~302°/с и поступательную скорость.
  </div>
</section>

</div>

<script>
// DATA
const rawData = `CSVDATA`;

// Parse embedded collision data
const collisionTimes = [1.42, 2.64, 4.10, 5.94, 8.24, 11.32, 15.80];
const omegaAfter = [108, 39, 25, 20, 15, 2.7, 0.6];
const deltaTBetween = [1.22, 1.46, 1.84, 2.30, 3.08, 4.48];

// Friction model data
const frictionOmega = [296.2, 105.1, 37.7, 23.2, 19.5, 14.9, 4.2];
const frictionAlpha = [17.12, 6.49, 2.07, 2.31, 0.21, 0.17, 0.50];

// Parse CSV
const lines = `time_s,gz_dps,a_xy
0.000,0.42,0.033
0.020,0.42,0.031
0.040,0.14,0.036
0.060,0.00,0.034
0.080,-0.14,0.033
0.100,-2.45,0.034
0.120,-5.39,0.037
0.140,-6.58,0.132
0.160,-4.13,0.043
0.180,-23.10,0.058
0.200,-16.45,0.155
0.220,-13.37,0.082
0.240,-22.89,0.026
0.260,-35.84,0.116
0.280,-29.61,0.043
0.300,-25.76,0.075
0.320,9.31,0.065
0.340,15.89,0.037
0.360,6.02,0.050
0.380,-7.35,0.674
0.400,-14.00,0.222
0.420,-2.03,0.822
0.440,-49.84,0.283
0.460,-158.62,0.515
0.480,-312.97,3.638
0.500,-296.87,0.298
0.520,-303.24,0.007
0.540,-303.52,0.014
0.560,-302.96,0.020
0.580,-302.61,0.025
0.600,-302.19,0.030
0.620,-301.84,0.031
0.640,-301.42,0.031
0.660,-301.00,0.034
0.680,-300.72,0.033
0.700,-300.23,0.036
0.720,-300.02,0.036
0.740,-299.67,0.040
0.760,-299.39,0.037
0.780,-298.97,0.038
0.800,-298.83,0.035
0.820,-298.34,0.037
0.840,-298.13,0.042
0.860,-297.64,0.043
0.880,-297.43,0.042
0.900,-297.01,0.045
0.920,-296.87,0.041
0.940,-296.52,0.044
0.960,-296.10,0.042
0.980,-295.61,0.041
1.000,-295.47,0.043
1.020,-294.91,0.043
1.040,-294.77,0.041
1.060,-294.28,0.042
1.080,-294.14,0.042
1.100,-293.58,0.038
1.120,-293.44,0.039
1.140,-292.95,0.038
1.160,-292.67,0.040
1.180,-292.32,0.039
1.200,-291.97,0.037
1.220,-291.55,0.037
1.240,-291.20,0.036
1.260,-290.85,0.037
1.280,-290.36,0.033
1.300,-289.94,0.033
1.320,-289.52,0.033
1.340,-289.24,0.030
1.360,-288.75,0.029
1.380,-288.47,0.027
1.400,-288.05,0.025
1.420,-118.51,10.272
1.440,-109.41,0.102
1.460,-108.78,0.056
1.480,-108.64,0.037
1.500,-108.50,0.042
1.520,-108.29,0.066
1.540,-108.29,0.049
1.560,-108.22,0.034
1.580,-108.08,0.036
1.600,-107.87,0.033
1.620,-107.73,0.032
1.640,-107.45,0.033
1.660,-107.45,0.033
1.680,-107.31,0.034
1.700,-107.38,0.034
1.720,-107.17,0.034
1.740,-107.17,0.034
1.760,-106.96,0.033
1.780,-106.82,0.033
1.800,-106.82,0.034
1.820,-106.40,0.038
1.840,-106.47,0.036
1.860,-106.26,0.033
1.880,-106.05,0.035
1.900,-105.84,0.034
1.920,-105.77,0.036
1.940,-105.35,0.035
1.960,-105.42,0.038
1.980,-105.21,0.032
2.000,-105.00,0.031
2.620,-91.70,5.686`.split('\n').slice(1);

// Full timeline from actual data
fetch('/mnt/user-data/uploads/4.csv').catch(()=>{});

// Chart defaults
Chart.defaults.color = '#64748b';
Chart.defaults.borderColor = '#1e2d44';
Chart.defaults.font.family = "'JetBrains Mono', monospace";
Chart.defaults.font.size = 10;

// We'll use the pre-computed data for charts

// Chart 1: Omega after collisions
new Chart(document.getElementById('chartEnergy'), {
  type: 'bar',
  data: {
    labels: ['#1','#2','#3','#4','#5','#6','#7'],
    datasets: [{
      label: '|ω| после удара, °/с',
      data: omegaAfter,
      backgroundColor: omegaAfter.map((v)=>`rgba(56,189,248,${0.3+0.7*(v/108)})`),
      borderColor: '#38bdf8',
      borderWidth: 1,
      borderRadius: 4,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: { legend: { display: false }, title: { display: true, text: '|ω| после каждого столкновения', color: '#e2e8f0', font: {size:12} } },
    scales: { y: { title: { display: true, text: '°/с' }, grid: { color: '#1e2d44' } }, x: { grid: { display: false } } }
  }
});

// Chart 2: Delta T between collisions
new Chart(document.getElementById('chartDeltaT'), {
  type: 'bar',
  data: {
    labels: ['1→2','2→3','3→4','4→5','5→6','6→7'],
    datasets: [{
      label: 'Δt, с',
      data: deltaTBetween,
      backgroundColor: 'rgba(244,114,182,0.5)',
      borderColor: '#f472b6',
      borderWidth: 1,
      borderRadius: 4,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: { legend: { display: false }, title: { display: true, text: 'Интервал между столкновениями', color: '#e2e8f0', font:{size:12} } },
    scales: { y: { title: { display: true, text: 'секунды' }, grid: { color: '#1e2d44' } }, x: { grid: { display: false } } }
  }
});

// Chart 3: Friction model
new Chart(document.getElementById('chartFriction'), {
  type: 'scatter',
  data: {
    datasets: [
      {
        label: 'Данные',
        data: frictionOmega.map((o,i)=>({x:o, y:frictionAlpha[i]})),
        backgroundColor: '#a78bfa',
        borderColor: '#a78bfa',
        pointRadius: 6,
        pointHoverRadius: 8,
      },
      {
        label: 'Фит: α = 0.058·ω',
        data: [{x:0,y:0},{x:300,y:300*0.058}],
        type: 'line',
        borderColor: 'rgba(167,139,250,0.4)',
        borderWidth: 2,
        borderDash: [6,3],
        pointRadius: 0,
      }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: { legend: { labels: { usePointStyle: true, boxWidth: 8 } }, title: { display: true, text: '|α| vs |ω| — вязкое трение', color: '#e2e8f0', font:{size:12} } },
    scales: {
      x: { title: { display: true, text: '|ω|, °/с' }, grid: { color: '#1e2d44' }, min: 0 },
      y: { title: { display: true, text: '|α|, °/с²' }, grid: { color: '#1e2d44' }, min: 0 }
    }
  }
});

// Chart 4: Full timeline (we'll reconstruct key points)
// Simplified gz timeline
const gzTimeline = [
  // Before collision 1
  {t:0,v:0.42},{t:0.1,v:-2.45},{t:0.2,v:-16.45},{t:0.3,v:-25.76},{t:0.4,v:-14},
  // Collision 1 region
  {t:0.48,v:-313},
  // After collision 1 - spin down
  {t:0.58,v:-302.6},{t:0.8,v:-298.8},{t:1.0,v:-295.5},{t:1.2,v:-292},{t:1.4,v:-288},
  // Collision 2
  {t:1.42,v:-118.5},
  // After 2
  {t:1.5,v:-108.5},{t:1.8,v:-106.8},{t:2.0,v:-105},{t:2.3,v:-103.2},{t:2.6,v:-101.5},
  // Collision 3
  {t:2.64,v:-91.7},{t:2.66,v:39.6},
  // After 3
  {t:2.8,v:39.1},{t:3.0,v:38.9},{t:3.5,v:37.8},{t:4.0,v:37},
  // Collision 4
  {t:4.1,v:-25.1},
  // After 4
  {t:4.2,v:-25.3},{t:4.8,v:-23.5},{t:5.4,v:-22},{t:5.8,v:-21.5},
  // Collision 5
  {t:5.94,v:19.9},
  // After 5
  {t:6.1,v:19.9},{t:7.0,v:19.5},{t:8.0,v:19.0},{t:8.1,v:19.0},
  // Collision 6
  {t:8.24,v:-14.9},
  // After 6
  {t:8.4,v:-14.8},{t:9.5,v:-14.6},{t:10.5,v:-14.4},{t:11.2,v:-14.3},
  // Collision 7
  {t:11.32,v:2.6},
  // After 7
  {t:11.5,v:2.7},{t:13,v:3.5},{t:15,v:3.9},{t:15.7,v:3.9},
  // Collision 8
  {t:15.8,v:0.4},
  // After 8
  {t:16,v:0.3},{t:17,v:-0.7},{t:18,v:-1.2},{t:19,v:-1.8},{t:20,v:-1.9}
];

const collisionAnnotations = collisionTimes.map((t,i) => ({
  x: t, label: `#${i+1}`
}));

new Chart(document.getElementById('chartTimeline'), {
  type: 'line',
  data: {
    datasets: [{
      label: 'gz (угловая скорость), °/с',
      data: gzTimeline.map(p=>({x:p.t, y:p.v})),
      borderColor: '#38bdf8',
      backgroundColor: 'rgba(56,189,248,0.1)',
      borderWidth: 1.5,
      fill: true,
      pointRadius: 0,
      tension: 0.1,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: {
      legend: { labels: { usePointStyle: true, boxWidth: 8 } },
      annotation: undefined,
    },
    scales: {
      x: { type: 'linear', title: { display: true, text: 'Время, с' }, grid: { color: '#1e2d44' }, min: 0, max: 20 },
      y: { title: { display: true, text: '°/с' }, grid: { color: '#1e2d44' } }
    }
  }
});
</script>
</body>
</html>
